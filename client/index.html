<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <!-- <link rel="icon" type="image/svg+xml" href="/vite.svg" /> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Hotjar Tracking Code for ZeroCollateral Test -->
  <script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:3846176,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>


  <link rel="stylesheet" href="css/style.css">
  <title>Lending dApp</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500&display=swap" rel="stylesheet">
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <script type="module" src="js/gateway.ts"></script>
  <script type="module" src="js/index.js"></script>
  <script type="module" src="js/dates.js"></script>
  

  <div class="big-container header">
      <div class="header-wrapper" >
        <img src="images/logoSlim.jpg" alt="Logo" class="logo-image"   />
        <h1> Uncollateralized Lending </h1>
        <div class="column">
          <radix-connect-button class="connectBtn"/>
        </div>
    </div>
  </div>

  <section>
    <div class="content-wrapper">
      <div class="row-wrapper">
        <p><b>Alpha Release</b>
          <br><br>
          Thank you in advance for participating in the testing. 
          Rewards will be distributed after the product is launched and stabilized. 
          <br>
          Please have a try at some of the functions and and especially 
          you should try the 'borrow' feature by specifying a deadline 
          and then verify that you have received the 'BadPayer' NFT for not repaying the loan, 
          after which you should repay the loan and verify that the 'BadPayer' has been deleted from your account 
          <br>
          Then, you can submit your <a href="https://9e4143vtzsr.typeform.com/to/GgQSj4Ec" target="new">Feedback</a></p>
      </div>
    </div>
  </section>

  <section>
    <div class="content-container">
      <p>Registering here you'll be able to supply/borrow liquidity in/from the pool
        <br><br>
        You will receive a CreditScore NFT where your position will be registered</p>
      <p>&nbsp;<button id="register">Register</button></p>
      <p>&nbsp;<button id="unregister">Unregister</button></p>
      <div class="number" id="registerTxResult"></div>
      <div class="number" id="unregisterTxResult"></div>
    </div>
  </section>

  <section>
      <div class="content-wrapper">
        <div class="row-wrapper">
          <div class="column">
            <h3>Supply</h3>
            <p>Supplying liquidity you will receive the same number of LND tokens back and also an updated NFT</p>
            <p><button id="lendTokens">Supply</button></p>
            <div class="number">
              <input type="text" placeholder="Number of Token" id="numberOfTokens">
            </div>
            <div class="number" id="lendTxResult"></div>
          </div>
  
          <div class="column">
            <h3>Withdraw</h3>
            <p>Withdraw liquidity you'll get back your XRD amount plus a reward calculated over the time your funding has been provided!</p>
            <p><button id="takes_back">Withdraw</button></p>
            <div class="number">
              <input type="text" placeholder="Number of Token" id="numberOfLndTokens">
            </div>
            <div class="number" id="takeBackTxResult"></div>
          </div>
          <br><br>
        </div>
      </div>
  
      <div class="content-wrapper">
        <div class="row-wrapper">
          <div class="column">
            <h3>Borrow</h3>
            <p>Borrow liquidity (max 3% of the main pool until the max borrowing limit has not been reached) !
            <br>Please provide a time when the borrowing will be repaid ! 
            <br>Be sure to repay otherwise you'll receive a BadPayer NFT !</p>
            <p><button id="borrow">Borrow</button></p>
            <div class="number">
                <input type="text" placeholder="Number of Token" id="numberOfRequestedXrdTokens">
                <input type="hidden" placeholder="N° of epochs within which the loan will be repaid" id="expectedBorrowLength">
                deadline for repayment <input type="datetime-local" id="endEpochBorrow" name="endEpochBorrow"  />
                <input type="hidden" placeholder="Account address" id="accountAddress">
            </div>
            <div class="number" id="borrowTxResult"></div>
          </div>
  
          <div class="column">
            <h3>Repay</h3>
            <p>Repay borrowings (fees and interest will be calculated over the time the borrow has been opened) !</p>
            <p><button id="repay">Repay</button></p>
            <div class="number">
                <input type="text" placeholder="Number of Token" id="numberOfRepaiedXrdTokens">
                <input type="hidden" placeholder="Account address" id="accountAddressForRepay">
            </div>
            <div class="number" id="repayTxResult"></div>
          </div>
        </div>
      </div>

  </section>

  <section>
      <div class="content-wrapper">
        <div class="row-wrapper">
          <div class="column">
            <h3>Your Position</h3>

            <p>Amount of your liquidity funded in the pool: <span class="number" id="amountLiquidityFunded"></span></p>
            <p>Epoch of supplying liquidity: <span class="number" id="epochLiquidityFunded"></span></p>
            <p>Epoch of redeeming liquidity:  <span class="number" id="epochLiquidityReedemed"></span></p>

            <br>
            <p>Amount of your borrowings:  <span class="number" id="amountBorrowings"></span></p>
            <p>Epoch of borrow:  <span class="number" id="epochBorrow"></span></p>
            <p>Expected epoch for loan repayment:  <span class="number" id="expectedEpochBorrow"></span></p>
            <p>Epoch of repaying borrow:  <span class="number" id="epochRepay"></span></p>

            <br>
            <!-- Next Epoch available for supplying new liquidity: <div class="number" id="epochLiquidityNext"></div> -->
            <p>Current Epoch:  <span class="number" id="currentEpoch"></span></p>
          </div>
        </div>
      </div>        
      <div class="content-wrapper">
        <div class="row-wrapper">    
          <div class="column">
            <h3>Current Pool Configuration</h3>

            <p>Reward for liquidity funding: <span class="number" id="rewardForYou"></span></p>
            <p>Interest for borrowing liquidity: <span class="number" id="interestForYou"></span></p>
            <p>How interest is calculated (Fixed/TimeBased): <span class="number" id="rewardType"></span></p>
            <p>Fees: <span class="number" id="fees">10 xrd for each operation (Withdraw, Borrow, Repay)</span></p>
            <p>Fees: <span class="number" id="fees">0 xrd for each operation (Supply)</span></p>

            <!-- Length of the period beyond which liquidity can be provided again: 
            <div class="number" id="periodLengthConfig"></div> -->
      
            <h3>Smart Contract Vaults</h3>
            
            <p>Amount of main liquidity pool: <span class="number" id="collected_xrd"></span></p>
            <span class="number" id="mainPool" style="display: none;"></span></p>
            <p>Amount of loans still accepted: <span class="number" id="lendinsPool"></span></p>
            <p>Max Amount of borrowings accepted: <span class="number" id="borrowingsPool"></span></p>
            <span class="number" id="donationsPool" style="display: none;"></span>
            <p>Amount of fee collected: <span class="number" id="fee_xrd"></span></p>
            <span class="number" id="donations_xrd" style="display: none;"></span>

          </div>
        </div>
      </div>
  </section>

  <section>
      <div class="content-wrapper">
        <div class="row-wrapper">

          <div class="column">
            <h3>Tokenize</h3>
            <p>You can ‘tokenize’ your loan and you’ll get an extra percentage, fixed until the specified maturity date
            <br>You can withdraw after maturity or you can swap before at a higher/lower value based on market condition !</p>
            <p><button id="borrow">Tokenize</button></p>
            <div class="number">
                <input type="text" placeholder="Number of Token" id="numberOfTokenizedZero">
                <input type="hidden" placeholder="N° of epochs within which the loan will be repaid" id="expectedTokenizeLength">
                maturity date <input type="datetime-local" id="tokenizeEndEpochBorrow" name="tokenizeEndEpochBorrow"  />
                <input type="hidden" placeholder="Account address" id="accountAddress">
            </div>
            <div class="number" id="tokenizeTxResult"></div>
          </div>

          <div class="column">
            <h3>Swap</h3>
            <p>You can swap at a higher/lower value based on market condition (before maturity!) </p>
            <p><button id="repay">Swap</button></p>
            <div class="number">
                <input type="text" placeholder="Number of Token" id="numberOfSwapXrdTokens">
                <input type="hidden" placeholder="Account address" id="accountAddressForSwap">
            </div>
            <div class="number" id="SwapTxResult"></div>
          </div>          
  
          <div class="column">
            <h3>Redeem</h3>
            <p>Redeems the underlying ZSU from PrincipalToken (after maturity!) </p>
            <p><button id="repay">Redeem</button></p>
            <div class="number">
                <input type="text" placeholder="Number of Token" id="numberOfRedeemedXrdTokens">
                <input type="hidden" placeholder="Account address" id="accountAddressForRedeem">
            </div>
            <div class="number" id="redeemTxResult"></div>
          </div>

          <div class="column">
            <h3>Claim Yield</h3>
            <p>Claim yield and you get back the interest calculated at the time of tozeniking (after maturity!) </p>
            <p><button id="repay">Claim</button></p>
            <div class="number">
                <input type="text" placeholder="Number of Token" id="numberOfClaimedXrdTokens">
                <input type="hidden" placeholder="Account address" id="accountAddressForClaimed">
            </div>
            <div class="number" id="claimedTxResult"></div>
          </div>          
        </div>
      </div>
        
        <div class="content-wrapper">
            <h3>Current Borrowers</h3>
            <ul id="borrowers-links-container"></ul>
            <h3>Current BadPayers</h3>
            <ul id="badpayers-links-container"></ul>
        </div>
    </div>

  </section>

  <section>
    <div class="content-wrapper">
      <div class="row-wrapper">
        <p>Wanna help the development of the project !?!<br>
        Token holders will receive a share of the fees collected by the platform<br>        
          <a href="https://ociswap.com/resource_rdx1t5vx7fx3xsp6npxhhgefqgk3qdjdhalntwskkspa4yper0tltzjlw8/">Buy Zero with Oci</a>         
      </div>
    </div>
      
      <div class="content-wrapper">
        <p><a href="https://9e4143vtzsr.typeform.com/to/GgQSj4Ec" target="new">Feedback</a></p>
      </div>
  </div>

</section>


  <section>
    <div class="content-wrapper">
      <div class="row-wrapper">
        <div class="column">
          Copyright by ZeroCollateral<br>
          <a href="https://docs.zerocollateral.eu/">Documentation</a>
        </div>
      </div>
    </div>

    <div class="content-wrapper">
      <div class="row-wrapper">
        <div class="column">
         <p><a href="https://t.me/+ttt0Vqp7E89mZGU0" target="new">Telegram</a></p>
         <p><a href="mailto:info@zerocollateral.eu" target="new">Mail</a></p>
        </div>
      </div>
    </div>
  </section>

</div>

 

</body>

</html>